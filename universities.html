<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <title>Ahlia universities</title>

    <link rel="shortcut icon" href="static/images/fav.jpg" />
    <link rel="stylesheet" href="static/css/bootstrap.min.css" />
    <link rel="stylesheet" href="static/css/fontawsom-all.min.css" />
    <link
      rel="stylesheet"
      href="static/plugins/slider/css/owl.carousel.min.css"
    />
    <link
      rel="stylesheet"
      href="static/plugins/slider/css/owl.theme.default.css"
    />
    <link rel="stylesheet" type="text/css" href="static/css/style.css" />
  </head>

  <body>
    <!-- ################# Header Starts Here#######################--->
    <header>
      <div id="nav-head" class="header-nav">
        <div class="container">
          <div class="row">
            <div class="col-md-3 col-sm-12 nav-img">
              <img src="" alt="" />
              <a data-toggle="collapse" data-target="#menu" href="#menu"
                ><i class="fas d-block d-md-none small-menu fa-bars"></i
              ></a>
            </div>
            <div id="menu" class="col-md-9 d-none d-md-block nav-item">
              <ul>
                <li><a href="/" data-translate="Home">Home</a></li>
                <li><a href="/universities" data-translate="Universities">Universities</a></li>
                <li><a href="/colleges" data-translate="Colleges">Colleges</a></li>
                <li><a href="/choose_major" data-translate="Choose Major">Choose Major</a></li>
                <button id="translateBtn" onclick="translateToArabic()">Translate to Arabic</button>

              </ul>
            </div>
          </div>
        </div>
      </div>
    </header>
    <!--  ************************* Page Title Starts Here ************************** -->
    <div class="slider">
      <!-- Set up your HTML -->
      <div class="owl-carousel">
        <div class="slider-img">
          <div class="item">
            <div class="slider-img">
              <img src="static/images/slider/slider-1.jpg" alt="" />
            </div>
            <div class="container">
              <div class="row">
                <div
                  class="col-lg-offset-2 col-lg-8 col-md-offset-2 col-md-8 col-sm-12 col-xs-12"
                >
                  <div class="slider-captions">
                    <h1 class="slider-title">
                      All the National Universities in Egypt
                    </h1>
                    <p class="slider-text hidden-xs">
                      We can help you conquer a wide range of all the National
                      universities in Egypt.
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ######## Page  Title End ####### -->

    <!-- ################# popular Cources Starts Here#######################--->
    <div class="popular-cources">
      <div class="container">
          <div class="row">
            <div class="col-md-3">
              <label for="rankFilter" data-translate="Filter by Rank:">Filter by Rank:</label>
              <select id="rankFilter" onchange="filterByRank(this.value)">
                  <option value="all" data-translate="All Ranks">All Ranks</option>
                  <option value="1-5" data-translate="Rank 1-5">Rank 1-5</option>
                  <option value="5-10" data-translate="Rank 5-10">Rank 5-10</option>
                  <option value="10-15" data-translate="Rank 10-15">Rank 10-15</option>
                  <option value="15-20" data-translate="Rank 15-20">Rank 15-20</option>
              </select>
          </div>
          
          </div>
          <div class="row courc-ro" id="universitiesContainer">
              {% for university in universities %}
              <div class="col-md-4 university-item" data-rank="{{ university[2] }}">
                  <div class="courc-card">
                      <!-- Use university-specific img_path from the database -->
                      <img src="data:image/jpeg;base64,{{ images[loop.index0] }}" alt="University Image" />
                      <!-- Assuming images is the list of base64 encoded images passed from Python -->
                      <div class="cource-det">
                          <h6>{{ university[0] }}</h6>
                          <ul id="descriptionList{{ loop.index }}">
                              <li>{{ university[1] }}</li>
                          </ul>
                          <p>Rank: {{ university[2] }}</p>
                          <p id="location{{ loop.index }}" style="display: none;">Location: {{ university[4] }}<br>University Website: <a href="{{ university[5] }}" target="_blank">{{ university[5] }}</a></p>
                          <button id="showMoreBtn{{ loop.index }}"  data-translate="Show More">Show More</button>
                      </div>
                  </div>
              </div>
              {% endfor %}
          </div>
      </div>
    </div>

    <!-- ################# Our Footer Starts Here#######################--->

    <div class="copy">
      <div class="container">
        <a href="https://www.smarteyeapps.com/"
          >2024 &copy; All Rights Reserved | Designed and Developed by Galala
          university computer science students</a
        >
      </div>
    </div>
  </body>

  <script src="static/js/jquery-3.2.1.min.js"></script>
  <script src="static/js/popper.min.js"></script>
  <script src="static/js/bootstrap.min.js"></script>
  <script src="static/plugins/slider/js/owl.carousel.min.js"></script>
  <script src="static/js/script.js"></script>
  <script>
    function filterByRank(rank) {
        const items = document.querySelectorAll('.university-item');
        items.forEach(item => {
            const itemRank = parseInt(item.getAttribute('data-rank'));
            if (rank === 'all' || (rank === '1-5' && itemRank >= 1 && itemRank <= 5) ||
                (rank === '5-10' && itemRank >= 5 && itemRank <= 10) ||
                (rank === '10-15' && itemRank >= 10 && itemRank <= 15) ||
                (rank === '15-20' && itemRank >= 15 && itemRank <= 20)) {
                item.style.display = 'block';
            } else {
                item.style.display = 'none';
            }
        });
    };
     
    function translateToArabic() {
    // Define translations for each word
    const translations = {
        'Filter by Rank:': 'تصفية حسب الترتيب:',
        'All Ranks': 'جميع الترتيبات',
        'Rank 1-5': 'الترتيب 1-5',
        'Rank 5-10': 'الترتيب 5-10',
        'Rank 10-15': 'الترتيب 10-15',
        'Rank 15-20': 'الترتيب 15-20',
        'Location:': 'الموقع:',
        'University Website:': 'موقع الجامعة:',
        'Show More': 'عرض المزيد',
        'Show Less': 'عرض أقل',
        'Home': 'الرئيسية',
        'Universities': 'الجامعات',
        'Colleges': 'الكليات',
        'Choose Major': 'اختيار التخصص'
        // Add more translations as needed
    };

    // Translate each element with a data-translate attribute
    document.querySelectorAll('[data-translate]').forEach(element => {
        const key = element.getAttribute('data-translate');
        if (translations.hasOwnProperty(key)) {
            element.textContent = translations[key];
        }
    });

    // Update the button text after translation
    document.getElementById('translateBtn').textContent = 'Translated';
}

</script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
        function toggleDescriptionList(btnId, listId, locationId) {
            const descriptionList = document.getElementById(listId);
            const locationContent = document.getElementById(locationId);
            const showMoreBtn = document.getElementById(btnId);
            const originalHeight = descriptionList.clientHeight;
            let isExpanded = false;

            // Set max-height and overflow hidden initially
            descriptionList.style.maxHeight = "3em"; // Adjust as needed
            descriptionList.style.overflow = "hidden";

            showMoreBtn.addEventListener("click", function () {
                if (isExpanded) {
                    descriptionList.style.maxHeight = "3em"; // Close the expanded content
                    locationContent.style.display = "none"; // Hide location
                    showMoreBtn.textContent = "Show More";
                } else {
                    descriptionList.style.maxHeight = originalHeight + "px"; // Open the full content
                    locationContent.style.display = "block"; // Show location
                    showMoreBtn.textContent = "Show Less";
                }
                isExpanded = !isExpanded; // Toggle the expanded state
            });
        }

        {% for university in universities %}
        toggleDescriptionList("showMoreBtn{{ loop.index }}", "descriptionList{{ loop.index }}", "location{{ loop.index }}");
        {% endfor %}
    });
</script>
</html>
